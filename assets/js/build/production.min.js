!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,function(){var x=function(e,t){"use strict";var E=Object.create(x.prototype),l=0,z=0,p=0,L=0,d=[],o=!0,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=null,i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassive",null,s),window.removeEventListener("testPassive",null,s)}catch(e){}var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,c=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t=["Webkit","Moz","ms"];for(var o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}();E.options={speed:-2,center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,callback:function(){}},t&&Object.keys(t).forEach(function(e){E.options[e]=t[e]}),e||(e=".rellax");var m="string"==typeof e?document.querySelectorAll(e):[e];if(0<m.length){if(E.elems=m,E.options.wrapper&&!E.options.wrapper.nodeType){var u=document.querySelector(E.options.wrapper);if(!u)return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");E.options.wrapper=u}var w=function(){for(var e=0;e<d.length;e++)E.elems[e].style.cssText=d[e].style;d=[],z=window.innerHeight,L=window.innerWidth,v(),function(){for(var e=0;e<E.elems.length;e++){var t=f(E.elems[e]);d.push(t)}}(),g(),o&&(window.addEventListener("resize",w),o=!1,y())},f=function(e){var t=e.getAttribute("data-rellax-percentage"),o=e.getAttribute("data-rellax-speed"),n=e.getAttribute("data-rellax-zindex")||0,r=e.getAttribute("data-rellax-min"),i=e.getAttribute("data-rellax-max"),s=E.options.wrapper?E.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;E.options.relativeToWrapper&&(s=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-E.options.wrapper.offsetTop);var a=E.options.vertical&&(t||E.options.center)?s:0,l=E.options.horizontal&&(t||E.options.center)?E.options.wrapper?E.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,p=a+e.getBoundingClientRect().top,d=e.clientHeight||e.offsetHeight||e.scrollHeight,c=l+e.getBoundingClientRect().left,m=e.clientWidth||e.offsetWidth||e.scrollWidth,u=t||(a-p+z)/(d+z),w=t||(l-c+L)/(m+L);E.options.center&&(u=w=.5);var f=o||E.options.speed,v=A(w,u,f),h=e.style.cssText,y="",g=/transform\s*:/i.exec(h);if(g){var x=g.index,b=h.slice(x),T=b.indexOf(";");y=T?" "+b.slice(11,T).replace(/\s/g,""):" "+b.slice(11).replace(/\s/g,"")}return{baseX:v.x,baseY:v.y,top:p,left:c,height:d,width:m,speed:f,style:h,transform:y,zindex:n,min:r,max:i}},v=function(){var e=l,t=p;if(l=E.options.wrapper?E.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,p=E.options.wrapper?E.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,E.options.relativeToWrapper){var o=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;l=o-E.options.wrapper.offsetTop}return!(e==l||!E.options.vertical)||!(t==p||!E.options.horizontal)},A=function(e,t,o){var n={},r=o*(100*(1-e)),i=o*(100*(1-t));return n.x=E.options.round?Math.round(r):Math.round(100*r)/100,n.y=E.options.round?Math.round(i):Math.round(100*i)/100,n},h=function(){window.removeEventListener("resize",h),window.removeEventListener("orientationchange",h),(E.options.wrapper?E.options.wrapper:window).removeEventListener("scroll",h),(E.options.wrapper?E.options.wrapper:document).removeEventListener("touchmove",h),r=n(y)},y=function(){v()&&!1===o?(g(),r=n(y)):(r=null,window.addEventListener("resize",h),window.addEventListener("orientationchange",h),(E.options.wrapper?E.options.wrapper:window).addEventListener("scroll",h,!!i&&{passive:!0}),(E.options.wrapper?E.options.wrapper:document).addEventListener("touchmove",h,!!i&&{passive:!0}))},g=function(){for(var e,t=0;t<E.elems.length;t++){var o=(l-d[t].top+z)/(d[t].height+z),n=(p-d[t].left+L)/(d[t].width+L),r=(e=A(n,o,d[t].speed)).y-d[t].baseY,i=e.x-d[t].baseX;null!==d[t].min&&(E.options.vertical&&!E.options.horizontal&&(r=r<=d[t].min?d[t].min:r),E.options.horizontal&&!E.options.vertical&&(i=i<=d[t].min?d[t].min:i)),null!==d[t].max&&(E.options.vertical&&!E.options.horizontal&&(r=r>=d[t].max?d[t].max:r),E.options.horizontal&&!E.options.vertical&&(i=i>=d[t].max?d[t].max:i));var s=d[t].zindex,a="translate3d("+(E.options.horizontal?i:"0")+"px,"+(E.options.vertical?r:"0")+"px,"+s+"px) "+d[t].transform;E.elems[t].style[c]=a}E.options.callback(e)};return E.destroy=function(){for(var e=0;e<E.elems.length;e++)E.elems[e].style.cssText=d[e].style;o||(window.removeEventListener("resize",w),o=!0),a(r),r=null},w(),E.refresh=w,E}console.warn("Rellax: The elements you're trying to select don't exist.")};return x});